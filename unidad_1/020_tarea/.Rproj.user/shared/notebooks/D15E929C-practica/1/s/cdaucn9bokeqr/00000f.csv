"0","# --- Calcular frecuencias relativas y graficar histograma combinado ---"
"0",""
"0","# Población"
"0","poblacion <- df$NA_Sales"
"0",""
"0","# Crear una muestra aleatoria de la población"
"0","set.seed(123)"
"0","muestra <- sample(poblacion, size = 200, replace = TRUE)"
"0",""
"0","# --- Calcular frecuencias relativas ---"
"0",""
"0","# Extender el rango un poco para cubrir cualquier valor extremo"
"0","min_val <- min(c(poblacion, muestra), na.rm = TRUE)"
"0","max_val <- max(c(poblacion, muestra), na.rm = TRUE)"
"0",""
"0","# Añadimos un pequeño margen para evitar exclusiones"
"0","min_val <- min_val - 1e-6"
"0","max_val <- max_val + 1e-6"
"0",""
"0","# Definir breaks (15 clases aproximadamente)"
"0","breaks <- seq(min_val, max_val, length.out = 15)"
"0",""
"0","# Calcular histogramas sin graficar"
"0","freq_poblacion <- hist(poblacion, breaks = breaks, plot = FALSE, include.lowest = TRUE, right = TRUE)"
"0","freq_muestra <- hist(muestra, breaks = breaks, plot = FALSE, include.lowest = TRUE, right = TRUE)"
"0",""
"0","# Calcular frecuencias relativas"
"0","rel_freq_poblacion <- freq_poblacion$counts / sum(freq_poblacion$counts)"
"0","rel_freq_muestra <- freq_muestra$counts / sum(freq_muestra$counts)"
"0",""
"0","# Crear data frame combinado"
"0","df_rel <- data.frame("
"0","  Clase = freq_poblacion$mids,"
"0","  Poblacion = rel_freq_poblacion,"
"0","  Muestra = rel_freq_muestra"
"0",")"
"0",""
"0","# --- Graficar histograma combinado ---"
"0","library(ggplot2)"
"0",""
"0","ggplot(df_rel, aes(x = Clase)) +"
"0","  geom_bar(aes(y = Poblacion, fill = ""Población""), stat = ""identity"", alpha = 0.6, position = ""identity"") +"
"0","  geom_bar(aes(y = Muestra, fill = ""Muestra""), stat = ""identity"", alpha = 0.6, position = ""dodge"") +"
"0","  scale_fill_manual(values = c(""Población"" = ""steelblue"", ""Muestra"" = ""orange"")) +"
"0","  labs("
"0","    title = ""Comparación de Frecuencias Relativas - Población vs. Muestra"","
"0","    x = ""Ventas en Norteamérica (NA_Sales)"","
"0","    y = ""Frecuencia Relativa"","
"0","    fill = ""Grupo"""
"0","  ) +"
"0","  theme_minimal()"
"0",""
